Klasse: 4AHITS   
Name: Sarah Krottenhammer   
Fach: ITSE    
Datum: 0202.2026

# Thema: very safe FTP backdoor
## Übung msf vsftpd exploit
### Angabe:
Voraussetzung: Setze Kali und Metasploitable in den NAT Modus.   
Starte metasploit aus dem Terminal mit `msfconsole` (metasploit framework console)   
`help` zeigt einen Hilfetext an.   
Verwende `search` um ein metasploit Modul zu finden dass einen exploit für diese Backdoor zur Verfügung stellt. Hinweis: Suche nach `vsftpd`   
Aktiviere dieses Modul mit `use`.   
Die Anzeige sollte nun so aussehen:   
```
[*] No payload configured, defaulting to cmd/unix/interact
msf6 exploit(unix/ftp/...) > 
```
Verwende `info` um Informationen zum aktivierten Modul anzuzeigen. Lies die “Description” durch und finde heraus welche Optionen dieses Modul unterstützt und wie diese gesetzt werden müssen. Setze die notwendigen Optionen.     
Verwende den Befehl `run` um das aktive Modul auszuführen. Es startet eine shell. Hinweis: es wird kein Prompt angezeigt, die Zeile sieht “leer” aus. Verifiziere, dass diese am Metasploit System läuft. Welche Rechte hat diese shell (welcher user)?   

Hinterlasse eine Nachricht `you have been hacked!` die beim nächsten Einloggen dem User msfadmin automatisch angezeigt wird.

### NAT Modus
in den Virtual Machine Settings den Netzwerkadapter beider VMs auf NAT ändern:    
![](https://github.com/user-attachments/assets/ae007163-0c39-43c6-aba1-65913540ace9)

### Ausführung
im Kali des metasploit starten und den Hilfstext mittels `help` anzeigen lassen:   
![](https://github.com/user-attachments/assets/f58b4a8c-eeb6-468b-8bde-2055cce2f3c0)

Nach einem Modul, dass vsftpd enthält, suchen:    
![](https://github.com/user-attachments/assets/ff521176-9acd-4843-8319-85b7d2588bd9)

Das Modul aktivieren:   
![](https://github.com/user-attachments/assets/6d8c9d10-82ea-4e47-9eaf-1cb6bf6cb415)    
Man bekommt die entsprechende Anzeige, wie in der Angabe gegeben.   

Mit `info` kann man die Informationen anzeigen lassen. Diese Optionen unterstützt das Modul:   
![](https://github.com/user-attachments/assets/b9e1a69e-82ce-4b1a-89f1-d2d7d02bf3f5)

benötigte Option `RHOSTS`setzen:   
![](https://github.com/user-attachments/assets/949e6ff5-6b91-4799-a790-16f0958235ae)

aktives Modul ausführen:   
![](https://github.com/user-attachments/assets/f13a0f76-a5db-4547-90d9-0f44194c3a3c)   
Mit `whoami` kann man sich anzeigen lassen, ob die shell als root läuft. Das bedeutet, die vsftpd-Backdoor gibt direkt Root-Rechte   

Man muss Lese- und Schreiberechte für den msfadmin setzen:   
![](https://github.com/user-attachments/assets/90a18060-b6f3-457b-97f7-890a2e219344)

Nachticht hinterlassen:   
![](https://github.com/user-attachments/assets/39fb74d5-e47c-4807-8be6-d41ab3fbbd5b)

Beim Login wird jetzt die jeweilige Nachricht angezeigt:   
![](https://github.com/user-attachments/assets/63a4b2d3-b763-45d9-a2af-e8ae2ae1cf14)

 


